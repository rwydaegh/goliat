<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Automated Python framework for near-field and far-field dosimetric assessments using Sim4Life" name="description"/><meta content="rwydaegh" name="author"/><link href="https://docs.goliat.waves-ugent.be/developer_guide/technical_guide/" rel="canonical"/><link href="../system_architecture/" rel="prev"/><link href="../analysis/" rel="next"/><link href="../../img/favicon.svg" rel="icon"/><meta content="mkdocs-1.5.3, mkdocs-material-9.5.3" name="generator"/><title>Technical Guide - GOLIAT Documentation</title><link href="../../assets/stylesheets/main.50c56a3b.min.css" rel="stylesheet"/><link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../assets/_mkdocstrings.css" rel="stylesheet"/><link href="../../stylesheets/extra.css" rel="stylesheet"/><link href="../../assets/stylesheets/panzoom.css" rel="stylesheet"/><link href="../../css/ansi-colours.css" rel="stylesheet"/><link href="../../css/jupyter-cells.css" rel="stylesheet"/><link href="../../css/pandas-dataframe.css" rel="stylesheet"/><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta content="C67JlSIlvLnht9ILTQG5rkT49B9SoIKsXok7TbuVda4" name="google-site-verification"/><meta name="panzoom-theme" content="material">
<meta name="panzoom-data" content='{"selectors": [".d2", ".mermaid"], "initial_zoom_level": 1.0}'> </head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#goliat-technical-guide"> Skip to content </a> </div> <div data-md-component="announce"> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden=""> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="GOLIAT Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="GOLIAT Documentation"> <img alt="logo" src="../../img/goliat.svg"/> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> GOLIAT Documentation </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Technical Guide </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg> </a> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/rwydaegh/goliat" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class="md-source__repository"> rwydaegh/goliat </div> </a> </div> </nav> <nav aria-label="Tabs" class="md-tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a class="md-tabs__link" href="../.."> Home </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../installation/"> Installation </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../user_guide/quick_start/"> User Guide </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../tutorials/overview/"> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a class="md-tabs__link" href="../developer_guide/"> Developer Guide </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../cloud/overview/"> Cloud </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../troubleshooting/"> Troubleshooting </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../reference/full_features_list/"> Reference </a> </li> <li class="md-tabs__item"> <a class="md-tabs__link" href="../../project_info/"> Project Info </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="GOLIAT Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="GOLIAT Documentation"> <img alt="logo" src="../../img/goliat.svg"/> </a> GOLIAT Documentation </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/rwydaegh/goliat" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class="md-source__repository"> rwydaegh/goliat </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../.."> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../installation/"> <span class="md-ellipsis"> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/> <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex=""> <span class="md-ellipsis"> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../user_guide/quick_start/"> <span class="md-ellipsis"> Quick Start </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user_guide/user_guide/"> <span class="md-ellipsis"> User Guide </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../user_guide/ai_assistant/"> <span class="md-ellipsis"> AI Assistant </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex=""> <span class="md-ellipsis"> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/overview/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/01_far_field_basics/"> <span class="md-ellipsis"> 1. Far-Field Basics </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/02_configuration_and_caching/"> <span class="md-ellipsis"> 2. Configuration and Caching </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/03_near_field_basics/"> <span class="md-ellipsis"> 3. Near-Field Basics </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/04_gridding_and_phantom_rotation/"> <span class="md-ellipsis"> 4. Gridding and Phantom Rotation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tutorials/05_parallel_and_cloud_execution/"> <span class="md-ellipsis"> 5. Parallel and Cloud Execution </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/> <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex=""> <span class="md-ellipsis"> Developer Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="true" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../developer_guide/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../system_architecture/"> <span class="md-ellipsis"> System Architecture </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Technical Guide </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> Technical Guide </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#core-philosophy"> <span class="md-ellipsis"> Core philosophy </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#system-architecture"> <span class="md-ellipsis"> System architecture </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#workflow-and-component-interactions"> <span class="md-ellipsis"> Workflow and component interactions </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#core-components"> <span class="md-ellipsis"> Core components </span> </a> <nav aria-label="Core components" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#orchestration-layer"> <span class="md-ellipsis"> Orchestration layer </span> </a> <nav aria-label="Orchestration layer" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#config"> <span class="md-ellipsis"> Config </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#tissue-grouping"> <span class="md-ellipsis"> Tissue Grouping </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#basestudy-nearfieldstudy-farfieldstudy"> <span class="md-ellipsis"> BaseStudy, NearFieldStudy, FarFieldStudy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#core-processing-layer"> <span class="md-ellipsis"> Core processing layer </span> </a> <nav aria-label="Core processing layer" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#projectmanager"> <span class="md-ellipsis"> ProjectManager </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#setup-modules-goliatsetups"> <span class="md-ellipsis"> Setup modules (goliat/setups/) </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#simulationrunner"> <span class="md-ellipsis"> SimulationRunner </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#resultsextractor"> <span class="md-ellipsis"> ResultsExtractor </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#surface-absorbed-power-density-sapd"> <span class="md-ellipsis"> Surface absorbed power density (SAPD) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#analysis-layer"> <span class="md-ellipsis"> Analysis layer </span> </a> <nav aria-label="Analysis layer" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#analyzer-strategies"> <span class="md-ellipsis"> Analyzer &amp; Strategies </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#plotter"> <span class="md-ellipsis"> Plotter </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#advanced-features"> <span class="md-ellipsis"> Advanced features </span> </a> <nav aria-label="Advanced features" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#gui-profiling-and-logging"> <span class="md-ellipsis"> GUI, profiling, and logging </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../analysis/"> <span class="md-ellipsis"> Analysis </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../advanced_features/"> <span class="md-ellipsis"> Advanced Features </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../configuration/"> <span class="md-ellipsis"> Configuration </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../coloring_rules/"> <span class="md-ellipsis"> Coloring Rules </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/> <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex=""> <span class="md-ellipsis"> Cloud </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../cloud/overview/"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../cloud/osparc/"> <span class="md-ellipsis"> oSPARC </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../cloud/monitoring/"> <span class="md-ellipsis"> Monitoring dashboard </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../cloud/super_studies/"> <span class="md-ellipsis"> Super Studies </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../cloud/cloud_setup/"> <span class="md-ellipsis"> Cloud setup </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../troubleshooting/"> <span class="md-ellipsis"> Troubleshooting </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_8" type="checkbox"/> <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex=""> <span class="md-ellipsis"> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_8"> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/full_features_list/"> <span class="md-ellipsis"> Full List of Features </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/api_reference/"> <span class="md-ellipsis"> API Reference </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reference/useful_s4l_snippets/"> <span class="md-ellipsis"> Sim4Life API snippets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../project_info/"> <span class="md-ellipsis"> Project Info </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href="https://github.com/rwydaegh/goliat/edit/master/docs/developer_guide/technical_guide.md" title="Edit this page"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg> </a> <a class="md-content__button md-icon" href="https://github.com/rwydaegh/goliat/raw/master/docs/developer_guide/technical_guide.md" title="View source of this page"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"></path></svg> </a> <h1 id="goliat-technical-guide">GOLIAT technical guide<a class="headerlink" href="#goliat-technical-guide" title="Permanent link">¶</a></h1> <p>This document provides an overview of the GOLIAT project's architecture, key components, and core functionalities. It is intended for developers who want to understand, extend, or maintain the codebase.</p> <h2 id="core-philosophy">Core philosophy<a class="headerlink" href="#core-philosophy" title="Permanent link">¶</a></h2> <p>GOLIAT is designed with a modular, configuration-driven architecture. The primary goal is to automate the entire <abbr title="Electromagnetic Field">EMF</abbr> dosimetry simulation workflow—scene setup, execution, and results analysis—while maintaining reproducibility and scalability. The system is orchestrated by <strong>Study</strong> classes, which manage the simulation lifecycle based on parameters defined in <abbr title="JavaScript Object Notation">JSON</abbr> configuration files. This approach allows for easy modification of simulation parameters without changing the underlying code, and it allows simulations to be repeated with the exact same settings.</p> <h2 id="system-architecture">System architecture<a class="headerlink" href="#system-architecture" title="Permanent link">¶</a></h2> <p>The application is structured in several distinct layers, each with a specific responsibility. This separation of concerns makes the system easier to understand, maintain, and extend.</p> <div class="panzoom-box" data-key="alt" id="panzoom0" oncontextmenu="return false;"> <nav class="panzoom-nav"> <button class="panzoom-info panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path> </svg> </button><button class="panzoom-reset panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"></path> </svg> </button> </nav> <pre class="mermaid"><code>graph TB
    subgraph "User Interface Layer"
        GUI[GUI Manager<br/>PySide6]
        CLI[Command Line]
    end
    
    subgraph "Orchestration Layer"
        Study[Study Classes<br/>NearFieldStudy / FarFieldStudy]
        Config[Configuration Manager]
        Profiler[Profiler &amp; Progress Tracking]
    end
    
    subgraph "Core Processing Layer"
        PM[Project Manager]
        Setup[Setup Classes<br/>Scene Building]
        Runner[Simulation Runner]
        Strategies[Execution Strategies<br/>Strategy Pattern]
        Extractor[Results Extractor]
    end

    subgraph "Analysis Layer"
        Analyzer[Analyzer<br/>orchestrator]
        Strategy[Analysis Strategies<br/>NearField / FarField]
        Plotter[Plotter<br/>13 specialized modules]
    end
    
    subgraph "External Services"
        S4L[Sim4Life Engine]
        oSPARC[oSPARC Cloud]
    end
    
    GUI --&gt; Study
    CLI --&gt; Study
    Study --&gt; Config
    Study --&gt; Profiler
    Study --&gt; PM
    Study --&gt; Setup
    Study --&gt; Runner
    Study --&gt; Extractor
    Runner --&gt; Strategies
    Extractor --&gt; Analyzer
    Analyzer --&gt; Strategy
    Analyzer --&gt; Plotter
    Strategies --&gt; S4L
    Strategies --&gt; oSPARC
    Setup --&gt; S4L
    Extractor --&gt; S4L
    
    style GUI fill:#E1BEE7
    style Study fill:#BBDEFB
    style Setup fill:#C5E1A5
    style Runner fill:#FFE082
    style Strategies fill:#FFE082
    style Extractor fill:#FFCCBC
    style Analyzer fill:#D1C4E9
    style Plotter fill:#D1C4E9
</code></pre> <div class="panzoom-info-box panzoom-info-box-bottom panzoom-hidden"> Hold "Alt" / "Option" to enable pan &amp; zoom </div> </div> <h2 id="workflow-and-component-interactions">Workflow and component interactions<a class="headerlink" href="#workflow-and-component-interactions" title="Permanent link">¶</a></h2> <p>The simulation process follows a clear, sequential workflow, orchestrated by the <code>NearFieldStudy</code> or <code>FarFieldStudy</code> classes. This workflow completes each step successfully before the next one begins, and it provides a clear structure for the entire simulation process.</p> <div class="panzoom-box" data-key="alt" id="panzoom0" oncontextmenu="return false;"> <nav class="panzoom-nav"> <button class="panzoom-info panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path> </svg> </button><button class="panzoom-reset panzoom-button"> <svg class="panzoom-icon" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"> <path d="M125.7 160l50.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L48 224c-17.7 0-32-14.3-32-32L16 64c0-17.7 14.3-32 32-32s32 14.3 32 32l0 51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"></path> </svg> </button> </nav> <pre class="mermaid"><code>sequenceDiagram
    participant User
    participant GUI
    participant Study
    participant Setup
    participant Runner
    participant Extractor
    participant Analyzer
    participant Files
    
    User-&gt;&gt;GUI: Start Study
    GUI-&gt;&gt;Study: Initialize
    Study-&gt;&gt;Setup: Configure Scene
    Setup-&gt;&gt;Files: Create .smash
    Study-&gt;&gt;Runner: Execute Simulation
    Runner-&gt;&gt;Files: Generate Input (.h5)
    Runner-&gt;&gt;Runner: Run Solver
    Runner-&gt;&gt;Files: Write Results
    Study-&gt;&gt;Extractor: Process Results
    Extractor-&gt;&gt;Files: Read Output
    Extractor-&gt;&gt;Files: Save Reports
    User-&gt;&gt;Analyzer: Run Analysis
    Analyzer-&gt;&gt;Files: Load Results
    Analyzer-&gt;&gt;Files: Generate Plots
    Analyzer-&gt;&gt;Files: Export CSV
    Study-&gt;&gt;GUI: Update Progress
    GUI-&gt;&gt;User: Show Completion
</code></pre> <div class="panzoom-info-box panzoom-info-box-bottom panzoom-hidden"> Hold "Alt" / "Option" to enable pan &amp; zoom </div> </div> <h2 id="core-components">Core components<a class="headerlink" href="#core-components" title="Permanent link">¶</a></h2> <p>This section details GOLIAT's core classes and their roles within the framework. For a complete <abbr title="Application Programming Interface">API</abbr> reference, please see the <a href="../../reference/api_reference/">Full <abbr title="Application Programming Interface">API</abbr> Reference</a>.</p> <h3 id="orchestration-layer">Orchestration layer<a class="headerlink" href="#orchestration-layer" title="Permanent link">¶</a></h3> <h4 id="config"><code>Config</code><a class="headerlink" href="#config" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Loads and manages hierarchical <abbr title="JavaScript Object Notation">JSON</abbr> configurations. A study-specific config (e.g., <code>near_field_config.json</code>) extends a <code>base_config.json</code>, allowing for a clean override system. This design minimizes duplication and makes it easy to manage different simulation scenarios. The <code>Config</code> class is responsible for loading the <code>base_config.json</code> and then recursively merging the study-specific configuration over it.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>__getitem__(path)</code>: Dictionary-style access with dot-notation support. Returns <code>None</code> if key doesn't exist, enabling pythonic fallback patterns: <code>config["simulation_parameters"] or {}</code></li> <li><code>get_material_mapping(phantom_name)</code>: Returns material name mapping for a specific phantom.</li> <li><code>get_profiling_config(study_type)</code>: Returns profiling configuration for a study type.</li> <li><code>_load_config_with_inheritance(path)</code>: The core method that handles the hierarchical loading of configuration files.</li> </ul> </li> </ul> <p><strong>Access Pattern</strong>: The Config class uses dictionary-style access with fallback: - <code>config["simulation_parameters.excitation_type"] or "Harmonic"</code> (pythonic fallback pattern)</p> <p><strong>⚠️ Important</strong>: When using the <code>or</code> pattern for default values, be careful about falsy values:</p> <ul> <li><strong>Safe</strong>: If the default is falsy (<code>False</code>, <code>0</code>, <code>[]</code>, <code>{}</code>, <code>""</code>), the <code>or</code> pattern is safe because falsy values won't be masked:</li> <li><code>config["key"] or False</code> - <code>False</code> stays <code>False</code></li> <li><code>config["key"] or 0</code> - <code>0</code> stays <code>0</code></li> <li> <p><code>config["key"] or []</code> - Empty list stays empty</p> </li> <li> <p><strong>Problematic</strong>: If the default is truthy (<code>True</code>, non-zero numbers, non-empty strings/lists), use explicit <code>None</code> checks to avoid masking falsy values:</p> </li> <li>❌ <code>config["use_gui"] or True</code> - <code>False</code> becomes <code>True</code> (wrong!)</li> <li>✅ <code>use_gui = config["use_gui"]; if use_gui is None: use_gui = True</code> - <code>False</code> stays <code>False</code></li> <li>❌ <code>config["bbox_padding_mm"] or 50</code> - <code>0</code> becomes <code>50</code> (wrong if <code>0</code> is valid!)</li> <li>✅ <code>padding = config["bbox_padding_mm"]; if padding is None: padding = 50</code> - <code>0</code> stays <code>0</code></li> </ul> <p><strong>Rule of thumb</strong>: If the default is falsy, the <code>or</code> pattern is safe. If the default is truthy, use explicit <code>None</code> checks to avoid masking falsy values.</p> <ul> <li><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.config.Config">goliat.config.Config</a></li> </ul> <h4 id="tissue-grouping">Tissue Grouping<a class="headerlink" href="#tissue-grouping" title="Permanent link">¶</a></h4> <p>GOLIAT groups individual tissues into logical categories (e.g., eyes, brain, skin) for aggregated <abbr title="Specific Absorption Rate">SAR</abbr> analysis. The grouping process occurs during <abbr title="Specific Absorption Rate">SAR</abbr> extraction and uses explicit mappings defined in <code>material_name_mapping.json</code>.</p> <p><strong>How it works:</strong></p> <ol> <li> <p><strong>Tissue Name Extraction</strong>: Sim4Life returns tissue names that may include phantom suffixes (e.g., <code>"Cornea (Thelonious_6y_V6)"</code>). These original names are preserved in the <abbr title="Specific Absorption Rate">SAR</abbr> DataFrame without cleaning or normalization.</p> </li> <li> <p><strong>Matching Process</strong>: The <code>TissueGrouper</code> class matches tissues to groups by:</p> </li> <li>Stripping phantom suffixes (e.g., <code>"Cornea (Thelonious_6y_V6)"</code> → <code>"Cornea"</code>)</li> <li>Checking if the cleaned name matches an entity name directly in <code>material_name_mapping.json</code></li> <li>If not found, checking if it matches a material name (using a reverse lookup)</li> <li> <p>Once the entity is identified, checking which group(s) it belongs to in <code>_tissue_groups</code></p> </li> <li> <p><strong>Configuration</strong>: Tissue groups are defined per phantom in <code>material_name_mapping.json</code> under the <code>_tissue_groups</code> key: <div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">  </span><span class="nt">"thelonious"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="nt">"_tissue_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">      </span><span class="nt">"eyes_group"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Cornea"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Eye_lens"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Eye_Sclera"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Eye_vitreous_humor"</span><span class="p">],</span>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">      </span><span class="nt">"brain_group"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Brain_grey_matter"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Brain_white_matter"</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">],</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">      </span><span class="err">...</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="nt">"Cornea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eye (Cornea)"</span><span class="p">,</span>
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">    </span><span class="nt">"Eye_lens"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eye (Lens)"</span><span class="p">,</span>
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">    </span><span class="err">...</span>
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="p">}</span>
</span></code></pre></div></p> </li> <li> <p><strong>Output</strong>: The grouping returns a dictionary mapping group names to lists of matched tissue names (with original phantom suffixes preserved). This ensures consistency between the DataFrame and the grouping results.</p> </li> </ol> <p><strong>Note</strong>: Far-field analysis uses keyword-based substring matching for plotting (defined in <code>Analyzer.tissue_group_definitions</code>), which is separate from the extraction-phase grouping. This works because tissue names in pickle files contain the keywords (e.g., <code>"Cornea"</code> matches <code>"Cornea (Thelonious_6y_V6)"</code> via substring search).</p> <ul> <li><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.extraction.tissue_grouping.TissueGrouper">goliat.extraction.tissue_grouping.TissueGrouper</a></li> </ul> <h4 id="basestudy-nearfieldstudy-farfieldstudy"><code>BaseStudy</code>, <code>NearFieldStudy</code>, <code>FarFieldStudy</code><a class="headerlink" href="#basestudy-nearfieldstudy-farfieldstudy" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Orchestrates the entire simulation workflow. <code>BaseStudy</code> provides the core structure, including the main <code>run()</code> method, logging, and profiling. <code>NearFieldStudy</code> and <code>FarFieldStudy</code> inherit from <code>BaseStudy</code> and implement the <code>_run_study()</code> method, which contains the specific logic for each study type. This inheritance-based design allows for code reuse and a clear separation of concerns.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>run()</code>: The main entry point to execute the study. It handles top-level error handling and checks that the necessary Sim4Life environment is running. It then calls the <code>_run_study</code> method.</li> <li><code>_run_study()</code>: This is the core of each study. It loops through phantoms, frequencies, and placements, coordinating the setup, run, and extraction phases for each simulation.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>:</p> <ul> <li><a href="../../reference/api_reference/#goliat.studies.base_study.BaseStudy">goliat.studies.base_study.BaseStudy</a></li> <li><a href="../../reference/api_reference/#goliat.studies.near_field_study.NearFieldStudy">goliat.studies.near_field_study.NearFieldStudy</a></li> <li><a href="../../reference/api_reference/#goliat.studies.far_field_study.FarFieldStudy">goliat.studies.far_field_study.FarFieldStudy</a></li> </ul> </li> </ul> <h3 id="core-processing-layer">Core processing layer<a class="headerlink" href="#core-processing-layer" title="Permanent link">¶</a></h3> <h4 id="projectmanager"><code>ProjectManager</code><a class="headerlink" href="#projectmanager" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Manages Sim4Life project files (<code>.smash</code>). It handles file creation, opening, saving, and validation to prevent issues with file locks or corruption. This is a component for maintaining the stability of the simulation process. It includes a <code>_is_valid_smash_file()</code> method that checks for file locks and verifies the <abbr title="Hierarchical Data Format version 5">HDF5</abbr> structure of the project file before attempting to open it.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>create_or_open_project(...)</code>: Creates a new project or opens an existing one based on the configuration.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.project_manager.ProjectManager">goliat.project_manager.ProjectManager</a></p> </li> </ul> <h4 id="setup-modules-goliatsetups">Setup modules (<code>goliat/setups/</code>)<a class="headerlink" href="#setup-modules-goliatsetups" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: A collection of specialized classes, each responsible for a specific part of the scene setup in Sim4Life. All setup classes inherit from <code>BaseSetup</code>, which provides common functionalities like logging and access to the Sim4Life <abbr title="Application Programming Interface">API</abbr>. The <code>NearFieldSetup</code> and <code>FarFieldSetup</code> classes coordinate the execution of the other setup modules. This modular design makes it easy to add new setup steps or modify existing ones.</li> <li> <p><strong>Some components</strong>:</p> <ul> <li><code>PhantomSetup</code>: Loads and validates phantom models.</li> <li><code>PlacementSetup</code>: Positions the antenna relative to the phantom.</li> <li><code>MaterialSetup</code>: Assigns material properties to all entities.</li> <li><code>GriddingSetup</code>: Configures the spatial grid for the simulation.</li> <li><code>BoundarySetup</code>: Sets up the boundary conditions (e.g., <abbr title="Perfectly Matched Layer">PML</abbr>).</li> <li><code>SourceSetup</code>: Configures the <abbr title="Electromagnetic Field">EMF</abbr> sources and sensors.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.setups">goliat.setups</a></p> </li> </ul> <h4 id="simulationrunner"><code>SimulationRunner</code><a class="headerlink" href="#simulationrunner" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Executes a single simulation using the Strategy pattern to select the appropriate execution method. The runner delegates actual execution to specialized strategy classes, making it easy to add new execution methods without modifying the core runner logic.</li> <li><strong>Execution Strategies</strong>: The runner uses three main strategies:<ul> <li><code>ISolveManualStrategy</code>: Executes simulations locally using <code>iSolve.exe</code> subprocess. Handles real-time output logging, progress milestone tracking, and retry logic for failed runs.</li> <li><code>Sim4LifeAPIStrategy</code>: Executes simulations via the Sim4Life Python <abbr title="Application Programming Interface">API</abbr>. Used when running simulations directly through the <abbr title="Application Programming Interface">API</abbr>.</li> <li><code>OSPARCDirectStrategy</code>: Submits simulations to the <abbr title="Open Simulation Platform for Advanced Research and Computing">oSPARC</abbr> cloud platform for distributed execution.</li> </ul> </li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>run()</code>: Writes the input file, then delegates to the appropriate execution strategy based on configuration.</li> <li><code>_create_execution_strategy()</code>: Factory method that selects the correct strategy based on solver settings.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.simulation_runner.SimulationRunner">goliat.simulation_runner.SimulationRunner</a></p> </li> </ul> <h4 id="resultsextractor"><code>ResultsExtractor</code><a class="headerlink" href="#resultsextractor" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Post-processes the simulation output. It uses a set of specialized extractor modules in the <code>goliat/extraction/</code> directory to pull key metrics. This modular approach makes it easy to add new extraction capabilities.</li> <li> <p><strong>Extractor modules</strong>:</p> <ul> <li><code>PowerExtractor</code>: Extracts input power and power balance.</li> <li><code>SarExtractor</code>: Extracts detailed <abbr title="Specific Absorption Rate">SAR</abbr> statistics for all tissues.</li> <li><code>SapdExtractor</code>: Extracts Surface Absorbed Power Density on the skin surface.</li> <li><code>SensorExtractor</code>: Extracts data from point sensors.</li> <li><code>Reporter</code>: Generates detailed reports in Pickle and <abbr title="HyperText Markup Language">HTML</abbr> formats.</li> <li><code>Cleaner</code>: Handles cleanup of simulation files to save disk space.</li> </ul> </li> </ul> <h4 id="surface-absorbed-power-density-sapd">Surface absorbed power density (<abbr title="Surface Absorbed Power Density">SAPD</abbr>)<a class="headerlink" href="#surface-absorbed-power-density-sapd" title="Permanent link">¶</a></h4> <p>GOLIAT extracts the power density absorbed at the skin surface for frequencies above 6 <abbr title="Gigahertz">GHz</abbr>. This automated workflow uses Sim4Life's <code>GenericSAPDEvaluator</code> plugin.</p> <ol> <li>Surface preparation: The system unites the Skin and Ear_skin entities (defined in the material mapping) into a single Skin_Merged_For_SAPD entity. This merged mesh is cached in <code>data/phantom_skins/</code> as a <code>.sab</code> file.</li> <li>Speed optimizations:<ul> <li><abbr title="Hierarchical Data Format version 5">HDF5</abbr> slicing: Creates a sub-sampled <abbr title="HDF5 file format (Hierarchical Data Format version 5)">H5</abbr> output file around the peak <abbr title="Specific Absorption Rate">SAR</abbr> location to reduce memory overhead.</li> <li>Mesh slicing: Clips the skin mesh to a 100 mm box using 6 planar cuts.</li> </ul> </li> <li>Mesh cleanup: Sliced meshes are repaired using RemoveBackToBackTriangles, RepairTriangleMesh, and RemeshTriangleMesh (2 mm target edge length) for accurate evaluation.</li> <li>Evaluation: The evaluator uses a 4 cm² averaging area and a 10 mm depth threshold, compliant with <abbr title="International Electrotechnical Commission">IEC</abbr>/<abbr title="Institute of Electrical and Electronics Engineers">IEEE</abbr> 63195-2:2022.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>extract()</code>: Orchestrates the entire extraction process.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.results_extractor.ResultsExtractor">goliat.results_extractor.ResultsExtractor</a></p> </li> </ol> <h3 id="analysis-layer">Analysis layer<a class="headerlink" href="#analysis-layer" title="Permanent link">¶</a></h3> <h4 id="analyzer-strategies"><code>Analyzer</code> &amp; Strategies<a class="headerlink" href="#analyzer-strategies" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: The <code>Analyzer</code> class orchestrates the analysis of extracted results. It uses a strategy pattern, delegating the specifics of the analysis to a <code>BaseAnalysisStrategy</code> subclass (<code>NearFieldAnalysisStrategy</code> or <code>FarFieldAnalysisStrategy</code>). This design allows for different analysis workflows to be implemented without changing the core <code>Analyzer</code> logic. The strategy is responsible for loading the correct data, calculating summary statistics, and generating the appropriate plots.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>run_analysis()</code>: Loads results, applies the strategy, and generates reports and plots.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>:</p> <ul> <li><a href="../../reference/api_reference/#goliat.analysis.analyzer.Analyzer">goliat.analysis.analyzer.Analyzer</a></li> <li><a href="../../reference/api_reference/#goliat.analysis.base_strategy.BaseAnalysisStrategy">goliat.analysis.base_strategy.BaseAnalysisStrategy</a></li> </ul> </li> </ul> <h4 id="plotter"><code>Plotter</code><a class="headerlink" href="#plotter" title="Permanent link">¶</a></h4> <ul> <li><strong>Function</strong>: Generates a variety of plots from the analyzed data. It is designed to be a flexible component that can be easily extended to create new types of visualizations.</li> <li> <p><strong>Some interesting methods</strong>:</p> <ul> <li><code>plot_sar_heatmap(...)</code>: Creates a heatmap of <abbr title="Specific Absorption Rate">SAR</abbr> distribution by tissue.</li> <li><code>plot_average_sar_bar(...)</code>: Generates a bar chart of average <abbr title="Specific Absorption Rate">SAR</abbr> values.</li> <li><code>plot_pssar_line(...)</code>: Creates a line plot of peak spatial-average <abbr title="Specific Absorption Rate">SAR</abbr>.</li> <li><code>plot_sar_distribution_boxplots(...)</code>: Generates boxplots to show the distribution of <abbr title="Specific Absorption Rate">SAR</abbr> values.</li> </ul> </li> <li> <p><strong><abbr title="Application Programming Interface">API</abbr> Reference</strong>: <a href="../../reference/api_reference/#goliat.analysis.plotter.Plotter">goliat.analysis.plotter.Plotter</a></p> </li> </ul> <h2 id="advanced-features">Advanced features<a class="headerlink" href="#advanced-features" title="Permanent link">¶</a></h2> <h3 id="gui-profiling-and-logging"><abbr title="Graphical User Interface">GUI</abbr>, profiling, and logging<a class="headerlink" href="#gui-profiling-and-logging" title="Permanent link">¶</a></h3> <p>The application uses a multi-process architecture to provide a responsive <abbr title="Graphical User Interface">GUI</abbr>. The <code>Profiler</code> class manages time estimation and progress tracking, using historical data from <code>profiling_config.json</code> to improve its accuracy over time. The logging system is split into a user-facing <code>progress</code> stream and a detailed <code>verbose</code> stream.</p> <p><em>For a deep dive into the architecture of these systems, refer to the <a href="../advanced_features/">Advanced Features Guide</a>.</em></p> <hr/> <p><em>For a complete and detailed <abbr title="Application Programming Interface">API</abbr> reference, please refer to the <a href="../../reference/api_reference/">Full <abbr title="Application Programming Interface">API</abbr> Reference</a>. For a comprehensive list of all user-facing features, see the <a href="../../reference/full_features_list/">Full List of Features</a>.</em></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> Back to top </button> </main> <footer class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-footer-content-wrapper"> <div class="md-footer-nav-left"> <a aria-label="Previous" class="md-footer__link md-footer__link--prev" href="../system_architecture/"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Previous </span> System Architecture </div> </div> </a> </div> <div class="md-footer-custom"> <div class="footer-logos"> <a class="footer-logo-link" href="https://waves.ugent.be" rel="noopener noreferrer" target="_blank"> <img alt="WAVES" class="footer-logo waves-logo" src="../../img/waves.svg"/> </a> <a class="footer-logo-link" href="https://www.ugent.be" rel="noopener noreferrer" target="_blank"> <img alt="UGent" class="footer-logo ugent-logo" src="../../img/ugent.png"/> </a> <a class="footer-logo-link" href="https://www.imec-int.com" rel="noopener noreferrer" target="_blank"> <img alt="imec" class="footer-logo imec-logo" src="../../img/imec.png"/> </a> </div> <div class="footer-monitoring"> <a class="monitoring-link" href="https://monitor.goliat.waves-ugent.be" rel="noopener noreferrer" target="_blank"> 📊 Check out the monitoring dashboard at monitor.goliat.waves-ugent.be </a> </div> </div> <div class="md-footer-nav-right"> <a aria-label="Next" class="md-footer__link md-footer__link--next" href="../analysis/"> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Next </span> Analysis </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script> <script src="../../javascripts/ansi-to-html.js"></script> <script src="../../javascripts/footer-width-match.js"></script> <script src="../../javascripts/code-block-enhancements.js"></script> <script src="../../assets/javascripts/panzoom.min.js"></script> <script src="../../assets/javascripts/zoompan.js"></script> <script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body> </html>